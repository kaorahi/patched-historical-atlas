<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css"> @import "style.css"; </style>
<script type="application/x-javascript">

'use strict';

const MAX_YEAR = 2019;

const data = {
	map_x: 2500,
	map_y: 580,
	year: 1000,
	zoom: 1,
	lang: 'en',
};

new URLSearchParams(location.search).forEach((value, key) => {
	switch (typeof data[key]) {
	case "string": data[key] = value; break;
	case "number": data[key] = value - 0; break;  // convert to number
	}
});

let is_dragging_year = false;

</script>
<script type="application/javascript" src="js/util.js" defer></script>
<script type="application/javascript" src="js/era.js" defer></script>
<script type="application/javascript" src="js/territory.js" defer></script>
<script type="application/javascript" src="js/regions.js" defer></script>
<script type="application/javascript" src="js/LangButton.js" defer></script>
<script type="application/javascript" src="js/YearText.js" defer></script>
<script type="application/javascript" src="js/YearBar.js" defer></script>
<script type="application/javascript" src="js/Region.js" defer></script>
<script type="application/javascript" src="js/Map.js" defer></script>
<script type="application/javascript" src="js/twha.js" defer></script>
<title>Patched Historical Atras</title>
</head>
<body oncontextmenu="return false;">
<div id="head">
<div id="control-box">
 <div id="fullscr-btn" class="head-btn hidable"><span>⛶</span></div>
 <select id="lang-select" class="hidable">
  <option value="ja">日本語</option>
  <option value="en" selected>English</option>
  <option value="zh">中文</option>
 </select>
</div><!-- control-box -->
<div id="year-box">
<form id="year"><span id="auto-sec"></span><span id="year-text"></span><input type="text" id="year-input" value="" autocomplete="no"></form>
<div id="year-sub"></div>
</div><!-- year-box -->
</div><!-- head -->
<div id="layer-land"></div>
<div id="layer-tert"></div>
<div id="layer-info"></div>
<div id="year-bar" class="hidable">
<img id="year-bar-cursor" src="img/year-pos.png" alt="" draggable="false"><canvas id="year-bar-scale" height="32"></canvas>
</div>
<div id="footer" class="hidable">
 <!-- always -->
 <div id="zoom-out-btn"><span>🔍-</span></div>
 <div id="zoom-in-btn"><span>🔍+</span></div>
 <!-- in pause -->
 <div id="back3-btn"><span>&lt;&lt;&lt;</span></div>
 <div id="back2-btn"><span>&lt;&lt;</span></div>
 <div id="back1-btn"><span>&lt;</span></div>
 <div id="play-btn"><span>▶</span></div>
 <div id="fwd1-btn"><span>&gt;</span></div>
 <div id="fwd2-btn"><span>&gt;&gt;</span></div>
 <div id="fwd3-btn"><span>&gt;&gt;&gt;</span></div>
 <!-- in play -->
 <div id="dummy1-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="dummy2-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="dummy3-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="pause-btn" data-state="hidden"><span>■</span></div>
 <div id="slow-btn" data-state="hidden"><span>▶-</span></div>
 <div id="fast-btn" data-state="hidden"><span>▶+</span></div>
 <div id="reset-btn" data-state="hidden"><span>1×</span></div>
</div>
<div id="toast"><p id="toast_message"></p></div>
</body>
</html>
