<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css"> @import "style.css"; </style>
<script type="application/x-javascript">

'use strict';

const MAX_YEAR = 2019;

const data = {
	map_x: 2500,
	map_y: 580,
	year: 1000,
	zoom: 1,
	lang: 'ja',
};

new URLSearchParams(location.search).forEach((value, key) => {
	switch (typeof data[key]) {
	case "string": data[key] = value; break;
	case "number": data[key] = value | 0; break;  // convert to number
	}
	if (key === "hide_buttons") {
		data[key] = value;
	}
});

let is_dragging_year = false;

</script>
<script type="application/javascript" src="js/util.js" defer></script>
<script type="application/javascript" src="js/era.js" defer></script>
<script type="application/javascript" src="js/territory.js" defer></script>
<script type="application/javascript" src="js/regions.js" defer></script>
<script type="application/javascript" src="js/LangButton.js" defer></script>
<script type="application/javascript" src="js/ZoomBar.js" defer></script>
<script type="application/javascript" src="js/YearText.js" defer></script>
<script type="application/javascript" src="js/YearBar.js" defer></script>
<script type="application/javascript" src="js/Region.js" defer></script>
<script type="application/javascript" src="js/Map.js" defer></script>
<script type="application/javascript" src="js/twha.js" defer></script>
<title>Patched Historical Atras</title>
</head>
<body oncontextmenu="return false;">
<div id="head">
<div id="scale-zoom"><img src="img/thumb-v.png" id="scale-zoom-cursor" alt=""></div>
<div class="lang-button" id="lang-ja"></div><div class="lang-button" id="lang-en"></div><div class="lang-button" id="lang-zh"></div>
<form id="year"><span id="auto-sec"></span><span id="year-text"></span><input type="text" id="year-input" value="" autocomplete="no"></form>
<div id="year-sub"></div>
</div>
<div id="layer-land"></div>
<div id="layer-tert"></div>
<div id="layer-info"></div>
<div id="year-bar">
<img id="year-bar-cursor" src="img/year-pos.png" alt="" draggable="false"><img id="year-arrow-left" src="img/arrow-left.png" alt=""><canvas id="year-bar-scale" height="32"></canvas><img id="year-arrow-right" src="img/arrow-right.png" alt="">
</div>
<div id="footer">
 <!-- always -->
 <div id="zoom-out-btn"><span>ğŸ”-</span></div>
 <div id="zoom-in-btn"><span>ğŸ”+</span></div>
 <!-- in pause -->
 <div id="back3-btn"><span>&lt;&lt;&lt;</span></div>
 <div id="back2-btn"><span>&lt;&lt;</span></div>
 <div id="back1-btn"><span>&lt;</span></div>
 <div id="play-btn"><span>â–¶</span></div>
 <div id="fwd1-btn"><span>&gt;</span></div>
 <div id="fwd2-btn"><span>&gt;&gt;</span></div>
 <div id="fwd3-btn"><span>&gt;&gt;&gt;</span></div>
 <!-- in play -->
 <div id="dummy1-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="dummy2-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="dummy3-btn" data-state="hidden" class="dummy-btn"><span></span></div>
 <div id="pause-btn" data-state="hidden"><span>â– </span></div>
 <div id="slow-btn" data-state="hidden"><span>â–¶-</span></div>
 <div id="fast-btn" data-state="hidden"><span>â–¶+</span></div>
 <div id="reset-btn" data-state="hidden"><span>1Ã—</span></div>
</div>
<div id="toast"><p id="toast_message"></p></div>
</body>
</html>
